
# Step 1: Preparing real-world annotation
## Sample audio recordings
### Recording conditions
録音は2022年と2024年の夏（7~9月）に日本の茨城県つくば市にあるNIES構内で行った。
2024年の録音プロジェクトでは、ChirpArray(Okamoto and Oguma 2025)を使用して毎時0分から10分間録音を行いました。録音はサンプリングレート48 kHzで4チャンネルで行われ、WAVファイルとして保存されました。本研究では、最初のチャンネルの録音データのみを使用しました。2024年の録音は、研究所敷地内の約200メートル離れた2つの小さな森林地点で行われました。これら2箇所では、ヒグラシを除く5種のセミのうち4種が観察されました。

2022年の録音プロジェクトでは、NVIDIA Jetson Nano 2GBと一般的なUSBマイク（ELECOM HS-MC09UBK）から構成されるカスタム録音ユニットを使用して、毎時0分から10分間録音を行いました。録音は48 kHzのモノラルで行われ、WAV形式で保存されました。この録音サイトは2023年の録音サイトから約100メートル離れていましたが、ヒグラシが生息する暗い常緑樹林で構成されていました。

### Description of the scripts
1. sample_audio_files.R  
これをはじめに実行する。3つの録音データソースから、モデルのテストとハイパーパラメータチューニングに使う音源を無作為に選ぶ。
音源は7/15~9/15の間の、5時から18時に録音されたものを選び、さらに録音エラーを含むものを省いた上で、データソースごとに200音源ずつ、合計600音源をランダムにサンプリングした。
サンプリングされた音源ファイル名を記したCSVをsample_{site_name}_{index}.csvの名前で保存した。    
2. copy_sample_audio_files.py   
次に、1.で作成されたCSVファイルに記載された音源を読み込み、モノラルに変換（1チャンネル目を使用）した上で、はじめの12秒を切り出して保存した。

## Manual Annotation
- Whombatを用いて著者がアノテーション作成を行った。  
- アノテーションは、12秒の音源を3分割した4秒間のクリップに対して作成した。大量のセミが合唱している条件下では、Strong Annotationをつけることは現実問題としてかなり困難であったため、この形式にしている。また、鳥などと異なり、セミ類の声は広い周波数域に分散しており、バウンディングボックス型のアノテーションを作成することも難しかった。  


